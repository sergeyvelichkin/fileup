(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{12:function(e,a,t){e.exports=t(40)},18:function(e,a,t){},20:function(e,a,t){},40:function(e,a,t){"use strict";t.r(a);var n=t(0),o=t.n(n),r=t(11),c=t.n(r),l=(t(18),t(20),t(2)),s=t(4),i=t.n(s),d=function(){var e=Object(n.useState)(null),a=Object(l.a)(e,2),t=a[0],r=a[1],c=Object(n.useState)(""),s=Object(l.a)(c,2),d=s[0],m=s[1],p=Object(n.useState)(!1),u=Object(l.a)(p,2),g=u[0],E=u[1],b=Object(n.useState)({}),h=Object(l.a)(b,2),f=h[0],v=h[1];return o.a.createElement("div",{className:"container"},f.message&&o.a.createElement("div",{class:"alert alert-danger",role:"alert"},f.message),o.a.createElement("div",{className:"card border-light mb-3 mt-5",style:{boxShadow:"0 5px 10px 2px rgba(195,192,192,.5)"}},o.a.createElement("div",{className:"card-header"},o.a.createElement("h3",{style:{color:"#555",marginLeft:"12px"}},"Single Image Upload"),o.a.createElement("p",{className:"text-muted",style:{marginLeft:"12px"}},"Upload Size:( Max 10MB )")),o.a.createElement("div",{className:"card-body"},o.a.createElement("p",{className:"card-text"},"Please upload an image"),o.a.createElement("input",{type:"file",onChange:function(e){r(e.target.files[0])}}),o.a.createElement("div",{className:"mt-5"},o.a.createElement("button",{className:"btn btn-info",onClick:function(e){E(!0),v({}),m("");var a=new FormData;t?(a.append("Image",t,t.name),i.a.post("/api/img-upload",a,{headers:{accept:"application/json","Accept-Language":"en-US,en;q=0.8","Content-Type":"multipart/form-data; boundary=".concat(a._boundary)}}).then(function(e){200===e.status&&(e.data.error?"LIMIT_FILE_SIZE"===e.data.error.code?(E(!1),v({message:"Max Size is 10MB"})):(E(!1),v({message:e.data.error})):(function(e){console.log("ENV >>> ",Object({NODE_ENV:"production",PUBLIC_URL:""}));var a={destination:e,domain:{fullName:"rebrand.ly"}},t={"Content-Type":"application/json",apikey:Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_SHORTURL_API_KEY,workspace:Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_SHORTURL_WORKSPACE};i()({url:"https://api.rebrandly.com/v1/links",method:"post",data:JSON.stringify(a),headers:t,dataType:"json"}).then(function(e){console.log("Long URL was ".concat(e.data.destination,", short URL is ").concat(e.data.shortUrl)),m(e.data.shortUrl)}).catch(function(e){v({message:"Api rebrandly log in problem"}),console.log(e)})}(e.data.location),E(!1),r(null)))}).catch(function(e){E(!1),v({message:"Server related problem"})})):(E(!1),v({message:"Plz select a file"}))}},g?"Uploading":"Upload")))),d&&o.a.createElement("div",{className:"alert alert-success",role:"alert"},"File sucessfully uploaded and is available here",o.a.createElement("a",{href:"https://"+d}," ",d)))};var m=function(){return o.a.createElement("div",{className:"app"},o.a.createElement(d,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(o.a.createElement(m,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[12,2,1]]]);
//# sourceMappingURL=main.de2be0d4.chunk.js.map